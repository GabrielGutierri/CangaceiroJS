{"version":3,"sources":["../../../app-src/util/decorators/Controller.js"],"names":["controller","seletores","elements","map","seletor","document","querySelector","constructor","constructorOriginal","constructorNovo","instance","Object","getOwnPropertyNames","prototype","forEach","property","Reflect","hasMetadata","associaEvento","getMetadata","metadado","selector","addEventListener","event","prevent","preventDefault","propertyKey"],"mappings":";;;AAAO,aAASA,UAAT,CAAoB,GAAGC,SAAvB,EAAiC;AACpC,cAAMC,WAAWD,UAAUE,GAAV,CAAcC,WAC3BC,SAASC,aAAT,CAAuBF,OAAvB,CADa,CAAjB;;AAIA,eAAO,UAASG,WAAT,EAAqB;AACxB,kBAAMC,sBAAsBD,WAA5B;AACA,kBAAME,kBAAkB,YAAU;AAC/B,sBAAMC,WAAW,IAAIF,mBAAJ,CAAwB,GAAGN,QAA3B,CAAjB;AACAS,uBAAOC,mBAAP,CAA2BJ,oBAAoBK,SAA/C,EACOC,OADP,CACeC,YAAY;AACjB,wBAAGC,QAAQC,WAAR,CAAoB,WAApB,EAAiCP,QAAjC,EAA2CK,QAA3C,CAAH,EAAwD;AACpDG,sCAAcR,QAAd,EAAwBM,QAAQG,WAAR,CAAoB,WAApB,EAAiCT,QAAjC,EAA2CK,QAA3C,CAAxB;AACH;AACJ,iBALP;AAMF,aARD;AASAN,4BAAgBI,SAAhB,GAA4BL,oBAAoBK,SAAhD;AACA,mBAAOJ,eAAP;AACH,SAbD;AAcH;;0BAnBeT,U;;AAqBhB,aAASkB,aAAT,CAAuBR,QAAvB,EAAiCU,QAAjC,EAA0C;AACtCf,iBAASC,aAAT,CAAuBc,SAASC,QAAhC,EACCC,gBADD,CACkBF,SAASG,KAD3B,EACkCA,SAAS;AACvC,gBAAGH,SAASI,OAAZ,EAAqBD,MAAME,cAAN;AACrBf,qBAASU,SAASM,WAAlB,EAA+BH,KAA/B;AACH,SAJD;AAKH","file":"Controller.js","sourcesContent":["export function controller(...seletores){\r\n    const elements = seletores.map(seletor=>\r\n        document.querySelector(seletor)\r\n    );\r\n\r\n    return function(constructor){\r\n        const constructorOriginal = constructor;\r\n        const constructorNovo = function(){\r\n           const instance = new constructorOriginal(...elements);\r\n           Object.getOwnPropertyNames(constructorOriginal.prototype)\r\n                 .forEach(property => {\r\n                     if(Reflect.hasMetadata('bindEvent', instance, property)){\r\n                         associaEvento(instance, Reflect.getMetadata('bindEvent', instance, property));\r\n                     }\r\n                 })\r\n        }\r\n        constructorNovo.prototype = constructorOriginal.prototype;\r\n        return constructorNovo;    \r\n    }\r\n}\r\n\r\nfunction associaEvento(instance, metadado){\r\n    document.querySelector(metadado.selector)\r\n    .addEventListener(metadado.event, event => {\r\n        if(metadado.prevent) event.preventDefault();\r\n        instance[metadado.propertyKey](event);\r\n    })\r\n}"]}